<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[内网穿透]]></title>
    <url>%2F2018%2F11%2F12%2F3%2F</url>
    <content type="text"><![CDATA[选择 Ngrok和FrpNgrokhttps://github.com/inconshreveable/ngrok Go语言实现 Ngrok1开源,Ngrok2闭源 存在bug,且不再维护 Frp(Fast Reverse Proxy)https://github.com/fatedier/frp 完全开源 功能更丰富 部署Frp下载Centoscd /optwget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gztar -zxvf frp_0.21.0_linux_amd64.tar.gzWindowshttps://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_windows_amd64.zip 配置服务端123456[common]bind_port = 7000vhost_http_port = 8080log_file = ./frps.logtoken = $&#123;u.token&#125;subdomain_host = $&#123;u.domain&#125; 客户端123456789101112131415[common]server_addr = $&#123;u.server.ip&#125;server_port = 7000token = $&#123;u.token&#125;[ssh000]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 6000[web000]type = httplocal_port = 80subdomain = $&#123;u.subdomain&#125; 启动服务端./frps -c frps.ini &amp;客户端./frpc -c frpc.ini &amp; 注意 多个客户端,ssh000,web000,remote_port都不能重复 客户端与服务端时间最多不可超过15分钟 防火墙 开机自启服务端vi /usr/lib/systemd/system/frps.service1234567891011[Unit]Description=frps daemonAfter=syslog.target network.targetWants=network.target[Service]Type=simpleExecStart=$&#123;frps_full_path&#125; -c $&#123;frps.ini_full_path&#125;Restart=alwaysRestartSec=1min[Install]WantedBy=multi-user.target service frps start/status/stopsystemctl enable frpssystemctl restart frps 客户端vi /usr/lib/systemd/system/frpc.service1234567891011[Unit]Description=frpc daemonAfter=syslog.target network.targetWants=network.target[Service]Type=simpleExecStart=$&#123;frpc_full_path&#125; -c $&#123;frpc.ini_full_path&#125;Restart=alwaysRestartSec=1min[Install]WantedBy=multi-user.target service frpc start/status/stopsystemctl enable frpcsystemctl restart frpc]]></content>
  </entry>
</search>
